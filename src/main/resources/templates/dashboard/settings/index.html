<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head th:replace="fragments/head :: headerFragment">
    <title>Settings - Donation App</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/tailwindcss@latest/dist/tailwind.min.css"
    />
  </head>
  <body class="bg-gray-100 font-sans">
    <!-- Header -->
    <header th:replace="fragments/header :: header"></header>

    <div class="flex">
      <!-- Sidebar Fragment -->
      <div
        th:replace="fragments/sidebar :: sidebar"
        class="mr-8 hidden lg:block flex-none"
      ></div>

      <!-- Main Content Area -->
      <div
        class="w-full max-w-5xl mx-auto p-5 mt-10 bg-white shadow-md rounded-lg"
      >
        <h1 class="text-3xl font-bold mb-6">Settings</h1>

        <!-- User Information Section -->
        <div class="mb-10">
          <h2 class="text-2xl font-semibold mb-4">User Information</h2>
          <form
            th:action="@{/dashboard/settings/update-user}"
            method="post"
            class="space-y-6"
          >
            <div class="flex flex-col">
              <label for="username" class="mb-2 font-medium text-gray-700"
                >Username</label
              >
              <input
                type="text"
                id="username"
                name="username"
                class="p-2 border rounded-lg"
                th:value="${user.username}"
                readonly
              />
            </div>

            <div class="flex flex-col">
              <label for="email" class="mb-2 font-medium text-gray-700"
                >Email Address</label
              >
              <input
                type="email"
                id="email"
                name="email"
                class="p-2 border rounded-lg"
                th:value="${user.email}"
                required
              />
            </div>

            <div class="flex flex-col">
              <label for="phone" class="mb-2 font-medium text-gray-700"
                >Phone Number</label
              >
              <input
                type="text"
                id="phone"
                name="phone"
                class="p-2 border rounded-lg"
                th:value="${user.phone}"
              />
            </div>

            <button
              type="submit"
              class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors duration-300"
            >
              Update Information
            </button>
          </form>
        </div>

        <!-- Notification Preferences Section -->
        <div class="mb-10">
          <h2 class="text-2xl font-semibold mb-4">Notification Preferences</h2>
          <form
            th:action="@{/dashboard/settings/update-notifications}"
            method="post"
            class="space-y-6"
          >
            <div class="flex items-center">
              <input
                type="checkbox"
                id="emailNotifications"
                name="emailNotifications"
                th:checked="${user.emailNotifications}"
                class="mr-3"
              />
              <label for="emailNotifications" class="font-medium text-gray-700"
                >Enable Email Notifications</label
              >
            </div>

            <div class="flex items-center">
              <input
                type="checkbox"
                id="smsNotifications"
                name="smsNotifications"
                th:checked="${user.smsNotifications}"
                class="mr-3"
              />
              <label for="smsNotifications" class="font-medium text-gray-700"
                >Enable SMS Notifications</label
              >
            </div>

            <button
              type="submit"
              class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors duration-300"
            >
              Update Notifications
            </button>
          </form>
        </div>

        <!-- App Configuration Section -->
        <div class="mb-10">
          <h2 class="text-2xl font-semibold mb-4">App Configuration</h2>
          <form
            th:action="@{/dashboard/settings/update-config}"
            method="post"
            class="space-y-6"
          >
            <div class="flex flex-col">
              <label for="currency" class="mb-2 font-medium text-gray-700"
                >Preferred Currency</label
              >
              <select
                id="currency"
                name="currency"
                class="p-2 border rounded-lg"
              >
                <option
                  th:each="currency : ${currencies}"
                  th:value="${currency}"
                  th:text="${currency}"
                >
                  USD
                </option>
              </select>
            </div>

            <div class="flex flex-col">
              <label for="language" class="mb-2 font-medium text-gray-700"
                >Language</label
              >
              <select
                id="language"
                name="language"
                class="p-2 border rounded-lg"
              >
                <option value="en" th:selected="${user.language == 'en'}">
                  English
                </option>
                <option value="es" th:selected="${user.language == 'es'}">
                  Spanish
                </option>
                <option value="fr" th:selected="${user.language == 'fr'}">
                  French
                </option>
                <!-- Add more languages as needed -->
              </select>
            </div>

            <button
              type="submit"
              class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors duration-300"
            >
              Save Configuration
            </button>
          </form>
        </div>

        <!-- Account Deletion Section -->
        <div class="mb-10">
          <h2 class="text-2xl font-semibold mb-4 text-red-600">Danger Zone</h2>
          <p class="mb-4 text-gray-600">
            Deleting your account is permanent and cannot be undone.
          </p>
          <form th:action="@{/dashboard/settings/delete-account}" method="post">
            <button
              type="submit"
              class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition-colors duration-300"
              onclick="return confirm('Are you sure you want to delete your account? This action cannot be undone.');"
            >
              Delete Account
            </button>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
